==28537== Memcheck, a memory error detector
==28537== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==28537== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==28537== Command: ./webserv users/evilcorp/otherConfigs/cgi.conf
==28537== Parent PID: 19536
==28537== 
==28537== Invalid read of size 8
==28537==    at 0x110763: HTTPServer::_closeConnection(std::map<int, ConnectionHandler*, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >&, int) (HTTPServer.cpp:147)
==28537==    by 0x11068B: HTTPServer::_delegateToConnectionHandler(int) (HTTPServer.cpp:117)
==28537==    by 0x110980: HTTPServer::_handleConnectionEvent(int, unsigned int) (HTTPServer.cpp:178)
==28537==    by 0x110B6A: HTTPServer::start() (HTTPServer.cpp:206)
==28537==    by 0x10D179: main (main.cpp:42)
==28537==  Address 0x4dec378 is 40 bytes inside a block of size 48 free'd
==28537==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==28537==    by 0x10FDF7: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >::deallocate(std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> >*, unsigned long) (new_allocator.h:139)
==28537==    by 0x10FC75: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >, std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >&, std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> >*, unsigned long) (alloc_traits.h:141)
==28537==    by 0x10FA84: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> >*) (stl_tree.h:588)
==28537==    by 0x10F573: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> >*) (stl_tree.h:655)
==28537==    by 0x111867: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, ConnectionHandler*> >) (stl_tree.h:2522)
==28537==    by 0x11133C: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::erase(std::_Rb_tree_iterator<std::pair<int const, ConnectionHandler*> >) (stl_tree.h:1226)
==28537==    by 0x110F1E: std::map<int, ConnectionHandler*, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::erase(std::_Rb_tree_iterator<std::pair<int const, ConnectionHandler*> >) (stl_map.h:1053)
==28537==    by 0x110726: HTTPServer::_closeConnection(std::map<int, ConnectionHandler*, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >&, int) (HTTPServer.cpp:143)
==28537==    by 0x11068B: HTTPServer::_delegateToConnectionHandler(int) (HTTPServer.cpp:117)
==28537==    by 0x110980: HTTPServer::_handleConnectionEvent(int, unsigned int) (HTTPServer.cpp:178)
==28537==    by 0x110B6A: HTTPServer::start() (HTTPServer.cpp:206)
==28537==  Block was alloc'd at
==28537==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==28537==    by 0x112B08: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >::allocate(unsigned long, void const*) (new_allocator.h:121)
==28537==    by 0x112A3A: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >, std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> > >&, unsigned long) (alloc_traits.h:133)
==28537==    by 0x11295A: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_get_node() (stl_tree.h:584)
==28537==    by 0x1127D9: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_create_node(std::pair<int const, ConnectionHandler*> const&) (stl_tree.h:606)
==28537==    by 0x11266B: std::_Rb_tree_node<std::pair<int const, ConnectionHandler*> >* std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_Alloc_node::operator()<std::pair<int const, ConnectionHandler*> >(std::pair<int const, ConnectionHandler*> const&) const (stl_tree.h:552)
==28537==    by 0x112242: std::_Rb_tree_iterator<std::pair<int const, ConnectionHandler*> > std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, ConnectionHandler*> const&, std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_Alloc_node&) (stl_tree.h:1821)
==28537==    by 0x111BCD: std::_Rb_tree_iterator<std::pair<int const, ConnectionHandler*> > std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, ConnectionHandler*> >, std::pair<int const, ConnectionHandler*> const&, std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_Alloc_node&) (stl_tree.h:2272)
==28537==    by 0x11171F: std::_Rb_tree<int, std::pair<int const, ConnectionHandler*>, std::_Select1st<std::pair<int const, ConnectionHandler*> >, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, ConnectionHandler*> >, std::pair<int const, ConnectionHandler*> const&) (stl_tree.h:1155)
==28537==    by 0x1111F1: std::map<int, ConnectionHandler*, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::insert(std::_Rb_tree_iterator<std::pair<int const, ConnectionHandler*> >, std::pair<int const, ConnectionHandler*> const&) (stl_map.h:864)
==28537==    by 0x110DD6: std::map<int, ConnectionHandler*, std::less<int>, std::allocator<std::pair<int const, ConnectionHandler*> > >::operator[](int const&) (stl_map.h:505)
==28537==    by 0x110466: HTTPServer::_setNewHandler(int) (HTTPServer.cpp:82)
==28537== 
==28537== 
==28537== FILE DESCRIPTORS: 4 open (3 std) at exit.
==28537== Open file descriptor 3: /home/kvanden-/Documents/comen core/level6/webserv/v0/valgrind.log
==28537==    <inherited from parent>
==28537== 
==28537== 
==28537== HEAP SUMMARY:
==28537==     in use at exit: 0 bytes in 0 blocks
==28537==   total heap usage: 395 allocs, 395 frees, 183,544 bytes allocated
==28537== 
==28537== All heap blocks were freed -- no leaks are possible
==28537== 
==28537== For lists of detected and suppressed errors, rerun with: -s
==28537== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
